<div class="space-y-6">
  <!-- Search Input -->
  <div class="relative">
    <input
      type="text"
      [value]="searchQuery()"
      (input)="onSearchInput($event)"
      placeholder="{{ 'dashboard.typographySelection.searchPlaceholder' | translate }}"
      class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
    />
    <svg
      class="absolute right-3 top-3.5 w-5 h-5 text-gray-400"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
      ></path>
    </svg>
  </div>

  <!-- Search Results -->
  @if (isSearching) {
    <div class="flex items-center justify-center py-8">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
      <span class="ml-3 text-gray-400">{{
        'dashboard.typographySelection.searching' | translate
      }}</span>
    </div>
  } @else if (searchResults.length > 0) {
    <div class="grid grid-cols-1 gap-3 max-h-[400px] overflow-y-auto custom-scrollbar">
      @for (font of searchResults; track font.family) {
        <div
          class="flex items-center justify-between p-3 bg-gray-800/50 border border-gray-700 rounded-lg hover:border-primary/50 transition-colors"
        >
          <div>
            <div class="text-white font-medium text-sm" [style.fontFamily]="font.family">
              {{ font.family }}
            </div>
            <div class="text-gray-400 text-xs">{{ font.category }}</div>
          </div>
          <div class="flex gap-2">
            <button
              class="flex-1 px-3 py-1.5 bg-indigo-500/10 text-indigo-300 text-xs rounded border border-indigo-500/30 hover:bg-indigo-500/20 transition-colors"
              (click)="onFontSelect(font, 'primary')"
            >
              {{ 'dashboard.typographySelection.custom.setPrimary' | translate }}
            </button>
            <button
              class="flex-1 px-3 py-1.5 bg-purple-500/10 text-purple-300 text-xs rounded border border-purple-500/30 hover:bg-purple-500/20 transition-colors"
              (click)="onFontSelect(font, 'secondary')"
            >
              {{ 'dashboard.typographySelection.custom.setSecondary' | translate }}
            </button>
          </div>
        </div>
      }
    </div>
  } @else if (searchQuery()) {
    <div class="text-center py-8 text-gray-400">
      <svg
        class="w-12 h-12 mx-auto mb-3 text-gray-600"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
        ></path>
      </svg>
      <p>{{ 'dashboard.typographySelection.noResults' | translate }}</p>
    </div>
  } @else {
    <div class="text-center py-8 text-gray-400">
      <svg
        class="w-12 h-12 mx-auto mb-3 text-gray-600"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
        ></path>
      </svg>
      <p>{{ 'dashboard.typographySelection.searchHint' | translate }}</p>
    </div>
  }
</div>
