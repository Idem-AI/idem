<section
  class="flex flex-col items-center justify-center w-full px-4 sm:px-6 lg:px-8 py-6 sm:py-10"
>
  <!-- Step Indicator -->
  <div class="w-full max-w-2xl mx-auto mb-6 sm:mb-14">
    <div class="relative flex items-center justify-between">
      <div
        class="absolute left-0 top-1/2 -translate-y-1/2 w-full h-0.5 bg-white/10 rounded-full z-0"
      ></div>
      @for (step of stepsList; track step.key) {
        <div class="relative z-10 flex flex-col items-center gap-2.5">
          <div
            class="w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold border-2 transition-all duration-300"
            [ngClass]="{
              'bg-primary border-primary text-white shadow-lg shadow-primary/30':
                currentStep() === step.key,
              'bg-primary border-primary text-white': isStepCompleted(step.key),
              'bg-gray-900 border-gray-700 text-gray-500':
                !isStepCompleted(step.key) && currentStep() !== step.key,
            }"
          >
            @if (isStepCompleted(step.key)) {
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2.5"
                  d="M5 13l4 4L19 7"
                />
              </svg>
            } @else {
              {{ step.number }}
            }
          </div>
          <span
            class="text-xs font-medium uppercase tracking-wider transition-colors duration-300 hidden sm:block"
            [ngClass]="{
              'text-white': currentStep() === step.key || isStepCompleted(step.key),
              'text-gray-600': !isStepCompleted(step.key) && currentStep() !== step.key,
            }"
          >
            {{ 'dashboard.logoPreferences.steps.' + step.key + '.title' | translate }}
          </span>
        </div>
      }
    </div>
  </div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- STEP 1: Logo Type Selection                -->
  <!-- ═══════════════════════════════════════════ -->
  @if (currentStep() === 'type') {
    <div class="w-full max-w-6xl mx-auto animate-fade-in">
      <div class="text-center mb-6 sm:mb-10">
        <h1
          class="text-xl sm:text-3xl md:text-4xl font-bold text-white mb-2 sm:mb-3 tracking-tight"
        >
          {{ 'dashboard.logoPreferences.steps.type.title' | translate }}
        </h1>
        <p class="text-gray-400 text-sm sm:text-lg max-w-2xl mx-auto font-light">
          {{ 'dashboard.logoPreferences.steps.type.subtitle' | translate }}
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mb-6 sm:mb-10">
        @for (option of logoTypes; track option.type) {
          <div
            (click)="selectType(option.type)"
            class="group relative flex flex-col h-full rounded-2xl cursor-pointer transition-all duration-400 overflow-hidden hover:-translate-y-1"
            [ngClass]="{
              'ring-2 ring-primary shadow-xl shadow-primary/20 bg-gray-900/60 border border-primary/30':
                selectedType() === option.type,
              'bg-gray-900/40 border border-white/5 hover:border-white/15 hover:shadow-lg':
                selectedType() !== option.type,
            }"
          >
            <!-- Logo Showcase Area -->
            <div class="relative h-36 sm:h-56 w-full overflow-hidden bg-gray-800/30">
              <div class="absolute inset-0 flex items-center justify-center p-5">
                <!-- Icon-Based Logos: Apple, X, Nike -->
                @if (option.type === 'icon') {
                  <div class="grid grid-cols-3 gap-4 w-full max-w-[280px]">
                    <div
                      class="aspect-square rounded-2xl bg-black flex items-center justify-center p-3 shadow-lg group-hover:scale-105 transition-transform duration-500"
                    >
                      <img
                        src="/assets/images/brands/apple.svg"
                        alt="Apple"
                        class="w-9 h-9 object-contain"
                      />
                    </div>
                    <div
                      class="aspect-square rounded-2xl bg-black flex items-center justify-center p-3 shadow-lg group-hover:scale-105 transition-transform duration-500 delay-75"
                    >
                      <img
                        src="/assets/images/brands/x.svg"
                        alt="X"
                        class="w-9 h-9 object-contain"
                      />
                    </div>
                    <div
                      class="aspect-square rounded-2xl bg-white flex items-center justify-center p-3 shadow-lg group-hover:scale-105 transition-transform duration-500 delay-100"
                    >
                      <img
                        src="/assets/images/brands/nike.svg"
                        alt="Nike"
                        class="w-9 h-9 object-contain invert"
                      />
                    </div>
                  </div>
                }

                <!-- Name-Based Logos: Google, Coca-Cola, FedEx -->
                @if (option.type === 'name') {
                  <div class="flex flex-col gap-4 w-full px-4">
                    <div
                      class="h-14 rounded-2xl bg-white flex items-center justify-center px-6 shadow-lg group-hover:scale-105 transition-transform duration-500"
                    >
                      <img
                        src="/assets/images/brands/google.png"
                        alt="Google"
                        class="h-7 object-contain"
                      />
                    </div>
                    <div
                      class="h-14 rounded-2xl bg-[#ED1C16] flex items-center justify-center px-6 shadow-lg group-hover:scale-105 transition-transform duration-500 delay-75"
                    >
                      <img
                        src="/assets/images/brands/cocacola.svg"
                        alt="Coca-Cola"
                        class="h-20 object-contain brightness-0 invert"
                      />
                    </div>
                    <div
                      class="h-14 rounded-2xl bg-white flex items-center justify-center px-6 shadow-lg group-hover:scale-105 transition-transform duration-500 delay-100"
                    >
                      <img
                        src="/assets/images/brands/fedex.svg"
                        alt="FedEx"
                        class="h-20 object-contain"
                      />
                    </div>
                  </div>
                }

                <!-- Initial-Based Logos: IBM, HP, CNN -->
                @if (option.type === 'initial') {
                  <div class="flex flex-col gap-4 w-full px-4">
                    <div
                      class="h-14 rounded-2xl bg-white flex items-center justify-center px-6 shadow-lg group-hover:scale-105 transition-transform duration-500"
                    >
                      <img
                        src="/assets/images/brands/ibm.png"
                        alt="IBM"
                        class="h-8 object-contain"
                      />
                    </div>
                    <div
                      class="h-14 rounded-2xl bg-[#0096D6] flex items-center justify-center px-6 shadow-lg group-hover:scale-105 transition-transform duration-500 delay-75"
                    >
                      <img
                        src="/assets/images/brands/hp.svg"
                        alt="HP"
                        class="h-8 object-contain brightness-0 invert"
                      />
                    </div>
                    <div
                      class="h-14 rounded-2xl bg-[#CC0000] flex items-center justify-center px-6 shadow-lg group-hover:scale-105 transition-transform duration-500 delay-100"
                    >
                      <img
                        src="/assets/images/brands/cnn.svg"
                        alt="CNN"
                        class="h-20 object-contain brightness-0 invert"
                      />
                    </div>
                  </div>
                }
              </div>

              <!-- Selected badge -->
              @if (selectedType() === option.type) {
                <div
                  class="absolute top-3 right-3 w-7 h-7 bg-primary rounded-full flex items-center justify-center shadow-lg shadow-primary/40 animate-scale-in"
                >
                  <svg
                    class="w-4 h-4 text-white"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2.5"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                </div>
              }
            </div>

            <!-- Card Content -->
            <div class="p-4 sm:p-6 flex-1 flex flex-col">
              <h3 class="text-base sm:text-lg font-bold text-white mb-1 sm:mb-1.5">
                {{ option.titleKey | translate }}
              </h3>
              <p class="text-xs sm:text-sm text-gray-400 leading-relaxed mb-3 sm:mb-4 flex-1">
                {{ option.descriptionKey | translate }}
              </p>
              <div class="pt-3 border-t border-white/5 flex items-center gap-2">
                <span class="text-xs text-gray-500 uppercase tracking-wider font-medium">
                  {{ 'dashboard.logoPreferences.types.examplesLabel' | translate }}
                </span>
                <span class="text-xs text-gray-300 font-medium">
                  {{ option.exampleKey | translate }}
                </span>
              </div>
            </div>
          </div>
        }
      </div>

      <div class="flex justify-center">
        <button
          (click)="goToModeSelection()"
          [disabled]="!canProceed()"
          class="inner-button flex items-center gap-2 px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg group shadow-xl shadow-primary/20 hover:shadow-primary/30 transition-all duration-300"
        >
          <span>{{ 'common.continue' | translate }}</span>
          <svg
            class="w-5 h-5 group-hover:translate-x-1 transition-transform"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 7l5 5m0 0l-5 5m5-5H6"
            />
          </svg>
        </button>
      </div>
    </div>
  }

  <!-- ═══════════════════════════════════════════ -->
  <!-- STEP 2: Generation Mode Selection          -->
  <!-- ═══════════════════════════════════════════ -->
  @if (currentStep() === 'mode') {
    <div class="w-full max-w-5xl mx-auto animate-fade-in">
      <div class="text-center mb-6 sm:mb-10">
        <h1
          class="text-xl sm:text-3xl md:text-4xl font-bold text-white mb-2 sm:mb-3 tracking-tight"
        >
          {{ 'dashboard.logoPreferences.steps.mode.title' | translate }}
        </h1>
        <p class="text-gray-400 text-sm sm:text-lg max-w-xl mx-auto font-light">
          {{ 'dashboard.logoPreferences.steps.mode.subtitle' | translate }}
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-5 sm:gap-8 lg:gap-12 mb-6 sm:mb-10">
        <!-- AI Generation Card -->
        <div
          (click)="selectGenerationMode('ai')"
          class="group relative h-auto sm:h-[500px] rounded-2xl sm:rounded-3xl cursor-pointer transition-all duration-500 overflow-hidden"
          [ngClass]="{
            'ring-2 ring-primary shadow-[0_0_50px_rgba(var(--primary-rgb),0.3)] scale-[1.02]':
              generationMode() === 'ai',
            'ring-1 ring-white/10 hover:ring-primary/50 hover:shadow-2xl hover:scale-[1.01]':
              generationMode() !== 'ai',
          }"
        >
          <!-- Background & Effects -->
          <div class="absolute inset-0 bg-gray-900">
            <div class="absolute inset-0 bg-linear-to-b from-gray-800/50 to-gray-950"></div>
            <!-- Animated Glow -->
            <div
              class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-primary/20 blur-[100px] rounded-full animate-pulse-glow"
            ></div>
          </div>

          <!-- Content Container -->
          <div class="relative h-full flex flex-col items-center justify-between p-5 sm:p-8 z-10">
            <!-- Grandiose AI SVG Illustration -->
            <div class="flex-1 flex items-center justify-center w-full py-4 sm:py-0">
              <div class="relative w-28 h-28 sm:w-48 sm:h-48">
                <!-- Spinning Rings -->
                <svg
                  class="absolute inset-0 w-full h-full text-primary/30 animate-spin-slow"
                  viewBox="0 0 100 100"
                >
                  <circle
                    cx="50"
                    cy="50"
                    r="48"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="0.5"
                    stroke-dasharray="4 4"
                  />
                  <circle
                    cx="50"
                    cy="50"
                    r="40"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="0.5"
                    stroke-dasharray="10 10"
                    opacity="0.5"
                  />
                </svg>

                <svg
                  class="absolute inset-0 w-full h-full text-indigo-400/30 animate-spin-reverse-slow"
                  viewBox="0 0 100 100"
                >
                  <circle
                    cx="50"
                    cy="50"
                    r="44"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1"
                    stroke-dasharray="2 8"
                  />
                </svg>

                <!-- Floating Particles -->
                <div class="absolute inset-0 animate-float">
                  <!-- Central Core -->
                  <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
                    <svg
                      class="w-14 h-14 sm:w-24 sm:h-24 drop-shadow-[0_0_15px_rgba(var(--primary-rgb),0.8)]"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <defs>
                        <linearGradient id="aiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop
                            offset="0%"
                            style="stop-color: rgb(var(--primary-rgb)); stop-opacity: 1"
                          />
                          <stop offset="100%" style="stop-color: #818cf8; stop-opacity: 1" />
                        </linearGradient>
                      </defs>
                      <path
                        d="M12 2L2 7L12 12L22 7L12 2Z"
                        stroke="url(#aiGradient)"
                        stroke-width="1"
                        fill="rgba(var(--primary-rgb), 0.1)"
                      />
                      <path d="M2 17L12 22L22 17" stroke="url(#aiGradient)" stroke-width="1" />
                      <path d="M2 7V17" stroke="url(#aiGradient)" stroke-width="1" />
                      <path d="M22 7V17" stroke="url(#aiGradient)" stroke-width="1" />
                      <path d="M12 12V22" stroke="url(#aiGradient)" stroke-width="1" />
                      <!-- Inner Energy -->
                      <circle cx="12" cy="12" r="4" fill="url(#aiGradient)" class="animate-pulse" />
                    </svg>
                  </div>

                  <!-- Satellites -->
                  <div
                    class="absolute top-0 right-10 w-2 h-2 bg-white rounded-full shadow-[0_0_10px_white] animate-pulse"
                  ></div>
                  <div
                    class="absolute bottom-10 left-4 w-1.5 h-1.5 bg-indigo-400 rounded-full shadow-[0_0_8px_indigo] animate-pulse delay-75"
                  ></div>
                  <div
                    class="absolute top-12 left-2 w-1 h-1 bg-primary rounded-full animate-pulse delay-150"
                  ></div>
                </div>
              </div>
            </div>

            <!-- Text Content -->
            <div class="text-center mt-3 sm:mt-6">
              <div class="flex items-center justify-center gap-2 sm:gap-3 mb-2 sm:mb-3">
                <h3 class="text-lg sm:text-2xl font-bold text-white tracking-tight">
                  {{ 'dashboard.logoPreferences.modes.ai.title' | translate }}
                </h3>
                <span
                  class="px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider bg-linear-to-r from-primary to-indigo-600 text-white rounded-full shadow-lg"
                >
                  {{ 'dashboard.logoPreferences.modes.ai.badge' | translate }}
                </span>
              </div>

              <p
                class="text-gray-400 text-xs sm:text-sm leading-relaxed mb-4 sm:mb-6 max-w-xs mx-auto"
              >
                {{ 'dashboard.logoPreferences.modes.ai.description' | translate }}
              </p>

              <!-- Features Grid -->
              <div
                class="grid grid-cols-1 gap-1.5 sm:gap-2 text-left bg-white/5 rounded-xl p-3 sm:p-4 border border-white/5 backdrop-blur-sm"
              >
                @for (feature of aiFeatures; track feature) {
                  <div class="flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-gray-300">
                    <svg
                      class="w-4 h-4 text-primary shrink-0"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M5 13l4 4L19 7"
                      />
                    </svg>
                    {{ feature | translate }}
                  </div>
                }
              </div>
            </div>

            <!-- Selection Indicator -->
            @if (generationMode() === 'ai') {
              <div
                class="absolute top-4 right-4 sm:top-6 sm:right-6 w-8 h-8 sm:w-10 sm:h-10 bg-primary rounded-full flex items-center justify-center shadow-[0_0_20px_rgba(var(--primary-rgb),0.6)] animate-scale-in"
              >
                <svg
                  class="w-6 h-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="3"
                    d="M5 13l4 4L19 7"
                  />
                </svg>
              </div>
            }
          </div>
        </div>

        <!-- Custom Description Card -->
        <div
          (click)="selectGenerationMode('custom')"
          class="group relative h-auto sm:h-[500px] rounded-2xl sm:rounded-3xl cursor-pointer transition-all duration-500 overflow-hidden"
          [ngClass]="{
            'ring-2 ring-secondary shadow-[0_0_50px_rgba(var(--secondary-rgb),0.3)] scale-[1.02]':
              generationMode() === 'custom',
            'ring-1 ring-white/10 hover:ring-secondary/50 hover:shadow-2xl hover:scale-[1.01]':
              generationMode() !== 'custom',
          }"
        >
          <!-- Background & Effects -->
          <div class="absolute inset-0 bg-gray-900">
            <div class="absolute inset-0 bg-linear-to-b from-gray-800/50 to-gray-950"></div>
            <!-- Grid Pattern -->
            <div class="absolute inset-0 bg-[url('/assets/images/grid.svg')] opacity-[0.03]"></div>
            <!-- Animated Glow -->
            <div
              class="absolute bottom-0 right-0 w-64 h-64 bg-secondary/10 blur-[100px] rounded-full"
            ></div>
          </div>

          <!-- Content Container -->
          <div class="relative h-full flex flex-col items-center justify-between p-5 sm:p-8 z-10">
            <!-- Grandiose Custom SVG Illustration -->
            <div class="flex-1 flex items-center justify-center w-full py-4 sm:py-0">
              <div
                class="relative w-28 h-28 sm:w-48 sm:h-48 animate-float"
                style="animation-delay: -3s"
              >
                <!-- Abstract Creative Shapes -->
                <svg
                  class="absolute inset-0 w-full h-full drop-shadow-[0_0_15px_rgba(var(--secondary-rgb),0.4)]"
                  viewBox="0 0 200 200"
                >
                  <defs>
                    <linearGradient id="customGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop
                        offset="0%"
                        style="stop-color: rgb(var(--secondary-rgb)); stop-opacity: 1"
                      />
                      <stop offset="100%" style="stop-color: #2dd4bf; stop-opacity: 1" />
                    </linearGradient>
                  </defs>

                  <!-- Pencil/Pen Tool -->
                  <path
                    d="M140 40 L160 60 L80 140 L60 145 L65 125 Z"
                    fill="url(#customGradient)"
                    stroke="white"
                    stroke-width="2"
                  />
                  <path d="M60 145 L50 155 L65 150" fill="#333" />

                  <!-- Drawing Path -->
                  <path
                    d="M50 155 Q 90 180 120 150 T 170 120"
                    stroke="url(#customGradient)"
                    stroke-width="4"
                    fill="none"
                    stroke-linecap="round"
                    stroke-dasharray="10 10"
                    class="animate-spin-reverse-slow"
                    style="animation-duration: 30s"
                  />

                  <!-- Floating UI Elements -->
                  <rect
                    x="40"
                    y="50"
                    width="60"
                    height="40"
                    rx="4"
                    fill="rgba(255,255,255,0.05)"
                    stroke="rgba(255,255,255,0.2)"
                    transform="rotate(-15 70 70)"
                  />
                  <circle cx="50" cy="70" r="10" fill="url(#customGradient)" opacity="0.5" />
                  <rect x="55" y="65" width="30" height="4" rx="2" fill="white" opacity="0.3" />
                  <rect x="55" y="75" width="20" height="4" rx="2" fill="white" opacity="0.3" />

                  <!-- Sparkles -->
                  <path
                    d="M150 50 L153 57 L160 60 L153 63 L150 70 L147 63 L140 60 L147 57 Z"
                    fill="white"
                    class="animate-pulse"
                  />
                  <path
                    d="M30 130 L32 135 L37 137 L32 139 L30 144 L28 139 L23 137 L28 135 Z"
                    fill="rgba(var(--secondary-rgb), 0.8)"
                    class="animate-pulse delay-75"
                  />
                </svg>
              </div>
            </div>

            <!-- Text Content -->
            <div class="text-center mt-3 sm:mt-6">
              <h3 class="text-lg sm:text-2xl font-bold text-white tracking-tight mb-2 sm:mb-3">
                {{ 'dashboard.logoPreferences.modes.custom.title' | translate }}
              </h3>

              <p
                class="text-gray-400 text-xs sm:text-sm leading-relaxed mb-4 sm:mb-6 max-w-xs mx-auto"
              >
                {{ 'dashboard.logoPreferences.modes.custom.description' | translate }}
              </p>

              <!-- Features Grid -->
              <div
                class="grid grid-cols-1 gap-1.5 sm:gap-2 text-left bg-white/5 rounded-xl p-3 sm:p-4 border border-white/5 backdrop-blur-sm"
              >
                @for (feature of customFeatures; track feature) {
                  <div class="flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-gray-300">
                    <svg
                      class="w-4 h-4 text-secondary shrink-0"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M5 13l4 4L19 7"
                      />
                    </svg>
                    {{ feature | translate }}
                  </div>
                }
              </div>
            </div>

            <!-- Selection Indicator -->
            @if (generationMode() === 'custom') {
              <div
                class="absolute top-4 right-4 sm:top-6 sm:right-6 w-8 h-8 sm:w-10 sm:h-10 bg-secondary rounded-full flex items-center justify-center shadow-[0_0_20px_rgba(var(--secondary-rgb),0.6)] animate-scale-in"
              >
                <svg
                  class="w-6 h-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="3"
                    d="M5 13l4 4L19 7"
                  />
                </svg>
              </div>
            }
          </div>
        </div>
      </div>

      <div class="flex justify-center gap-3 sm:gap-4">
        <button
          (click)="back()"
          class="outer-button px-5 sm:px-8 py-2.5 sm:py-3.5 text-sm sm:text-base flex items-center gap-2"
        >
          <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M11 17l-5-5m0 0l5-5m-5 5h12"
            />
          </svg>
          {{ 'common.back' | translate }}
        </button>
        <button
          (click)="goToDescription()"
          [disabled]="!canProceed()"
          class="inner-button px-6 sm:px-10 py-2.5 sm:py-3.5 text-sm sm:text-base flex items-center gap-2 group shadow-lg shadow-primary/20 hover:shadow-primary/40 transition-all duration-300"
        >
          <span>{{ 'common.continue' | translate }}</span>
          <svg
            class="w-5 h-5 group-hover:translate-x-1 transition-transform"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 7l5 5m0 0l-5 5m5-5H6"
            />
          </svg>
        </button>
      </div>
    </div>
  }

  <!-- ═══════════════════════════════════════════ -->
  <!-- STEP 3: Description (Creative Brief)       -->
  <!-- ═══════════════════════════════════════════ -->
  @if (currentStep() === 'description') {
    <div class="w-full max-w-4xl mx-auto animate-fade-in">
      <div class="text-center mb-6 sm:mb-10">
        <h1 class="text-xl sm:text-3xl md:text-4xl font-bold text-white mb-2 sm:mb-3">
          {{ 'dashboard.logoPreferences.steps.description.title' | translate }}
        </h1>
        <p class="text-gray-400 text-sm sm:text-lg">
          {{ 'dashboard.logoPreferences.steps.description.subtitle' | translate }}
        </p>
      </div>

      <div
        class="bg-gray-900/50 rounded-2xl sm:rounded-3xl border border-white/10 p-1 shadow-2xl mb-6 sm:mb-8"
      >
        <div class="bg-gray-950/80 rounded-[22px] overflow-hidden">
          <!-- Toolbar -->
          <div
            class="px-4 sm:px-6 py-3 sm:py-4 bg-white/5 border-b border-white/5 flex items-center justify-between"
          >
            <div class="flex items-center gap-2 sm:gap-3">
              <div
                class="w-7 h-7 sm:w-8 sm:h-8 rounded-lg bg-primary/20 flex items-center justify-center"
              >
                <svg
                  class="w-4 h-4 text-primary"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                  />
                </svg>
              </div>
              <span class="text-white font-semibold text-sm sm:text-base">{{
                'dashboard.logoPreferences.fields.description.label' | translate
              }}</span>
            </div>
            <div class="flex items-center gap-3">
              <span
                class="text-xs font-bold px-3 py-1.5 rounded-full border transition-colors duration-300"
                [ngClass]="{
                  'bg-red-500/10 border-red-500/20 text-red-400': customDescription().length < 10,
                  'bg-amber-500/10 border-amber-500/20 text-amber-400':
                    customDescription().length >= 10 && customDescription().length < 30,
                  'bg-emerald-500/10 border-emerald-500/20 text-emerald-400':
                    customDescription().length >= 30,
                }"
              >
                {{ customDescription().length }}
                {{ 'dashboard.logoPreferences.fields.description.charCount' | translate }}
              </span>
            </div>
          </div>

          <!-- Input Area -->
          <div class="relative">
            <textarea
              [value]="customDescription()"
              (input)="updateDescription($event)"
              class="w-full h-40 sm:h-64 bg-transparent text-base sm:text-lg text-white p-4 sm:p-6 focus:outline-none resize-none placeholder-gray-600 leading-relaxed"
              [placeholder]="'dashboard.logoPreferences.fields.description.placeholder' | translate"
            ></textarea>
            <div
              class="absolute bottom-0 left-0 w-full h-0.5 bg-linear-to-r from-transparent via-primary to-transparent opacity-50"
            ></div>
          </div>

          <!-- Helper Tips -->
          <div
            class="bg-primary/5 px-4 sm:px-6 py-3 sm:py-4 border-t border-primary/10 flex items-start gap-2 sm:gap-3"
          >
            <svg
              class="w-5 h-5 text-primary shrink-0 mt-0.5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            <p class="text-xs sm:text-sm text-gray-300">
              {{ 'dashboard.logoPreferences.fields.description.tip' | translate }}
            </p>
          </div>
        </div>
      </div>

      <div class="flex justify-center gap-3 sm:gap-4">
        <button
          (click)="back()"
          class="outer-button px-5 sm:px-8 py-2.5 sm:py-3.5 text-sm sm:text-base flex items-center gap-2"
        >
          <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M11 17l-5-5m0 0l5-5m-5 5h12"
            />
          </svg>
          {{ 'common.back' | translate }}
        </button>
        <button
          (click)="completePreferences()"
          [disabled]="!canProceed()"
          class="inner-button px-6 sm:px-10 py-2.5 sm:py-3.5 text-sm sm:text-base flex items-center gap-2 group shadow-xl shadow-primary/20 hover:shadow-primary/40 transition-all duration-300"
        >
          <span class="mr-2">{{ 'dashboard.logoPreferences.buttons.generate' | translate }}</span>
          <div class="relative w-5 h-5">
            <svg
              class="w-5 h-5 absolute inset-0 transition-all duration-300 group-hover:scale-125 group-hover:rotate-12"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"
              />
            </svg>
          </div>
        </button>
      </div>
    </div>
  }
</section>
